{"version":3,"sources":["SettingsForm.js","Cell.js","Game.js","services/GameFieldGenerator.js","GameOver.js","Winner.js","App.js","index.js"],"names":["SettingsForm","_ref","colsnum","difficulty","onSubmit","updateFieldSettigns","updateLevelSettings","difficultyValue","fieldSizeValue","concat","react_default","a","createElement","action","className","onClick","Cell","cell","onContextMenu","col","row","cellClass","value","open","marked","cellValue","detonated","data-col","data-row","Game","props","cells","field","map","el","index","result","i","length","key","push","src_Cell_0","rowsnum","gameStyle","fontSize","sensorFlagClasses","sensorFlag","Fragment","handleSensorFlag","style","GameFieldGenerator","range","Math","floor","random","array","reduce","acc","filter","cols","rows","j","diff","bombNumber","c","this","getRand","r","rightCol","topRow","bottomRow","isNaN","startGame","allCells","countCellsToOpen","GameOver","newGame","Winner","App","state","gameOver","openedCells","handleInput","target","_this","setState","Object","defineProperty","name","parseInt","prevState","number","newSize","newLevel","handleForm","e","preventDefault","_this$state","game","generateField","handleRightClick","currentTarget","getAttribute","handleLeftClick","_this$state2","openAllCellsBeside","openAllCells","countOpenedCells","f","_this$state3","openUnmarkCell","x","y","arguments","undefined","_this$state4","_this$state5","src_Game_0","src_SettingsForm_0","onChange","src_GameOver_0","src_Winner_0","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e5491f2a.chunk.js","sourcesContent":["import React from 'react';\r\nimport './SettingsForm.css';\r\n\r\nconst SettingsForm = ({ colsnum, difficulty, onSubmit, updateFieldSettigns, updateLevelSettings }) => {\r\n\r\n  const difficultyValue = difficulty === 1 ? 'easy' : (difficulty === 2 ? 'medium' : 'hard');\r\n  const fieldSizeValue = `${colsnum}x${colsnum}`;\r\n\r\n  return (\r\n    <form action=\"\" className=\"input-form\" onSubmit={onSubmit}>\r\n      <h1>Minesweeper</h1>\r\n\r\n      <label>\r\n        <div>Field size</div>\r\n        <div>\r\n          <i className=\"fa fa-chevron-left\" onClick={() => updateFieldSettigns(-5)}></i>\r\n          {fieldSizeValue}\r\n          <i className=\"fa fa-chevron-right\" onClick={() => updateFieldSettigns(5)}></i>\r\n        </div>\r\n      </label>\r\n      <label>\r\n        <div>Difficulty</div>\r\n        <div>\r\n          <i className=\"fa fa-chevron-left\" onClick={() => updateLevelSettings(-1)}></i>\r\n          <span>{difficultyValue}</span>\r\n          <i className=\"fa fa-chevron-right\" onClick={() => updateLevelSettings(1)}></i>\r\n        </div>\r\n      </label>\r\n\r\n      <button className=\"btn btn-success\">Start game</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SettingsForm;\r\n","import React from 'react';\r\nimport './Cell.css';\r\n\r\nconst Cell = ({ cell, onContextMenu, onClick, col, row }) => {\r\n\r\n  let cellClass = cell.value === 0 ? 'green-cell' : (cell.value === 'b' ? 'red-cell' : 'blue-cell');\r\n\r\n  if (!cell.open) cellClass = 'blocked-cell';\r\n  if (cell.marked) cellClass = 'marked-cell';\r\n\r\n  const cellValue = cell.open ?\r\n    (cell.value === 0 ?\r\n      null :\r\n      (cell.detonated ?\r\n        <i className=\"fa fa-bomb detonated\"></i> :\r\n        (cell.value === 'b' ?\r\n          <i className=\"fa fa-bomb grey\"></i> :\r\n          cell.value\r\n        )\r\n      )\r\n    ) :\r\n    (cell.marked ?\r\n      <i className=\"fa fa-flag red\"></i> :\r\n      null)\r\n\r\n  return (\r\n    <div className={cellClass} onContextMenu={onContextMenu} onClick={onClick} data-col={col} data-row={row}>\r\n      <span className=\"cell-value\">{cellValue}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cell;\r\n","import React from 'react';\r\nimport Cell from './Cell';\r\nimport './Game.css'\r\n\r\nconst Game = (props) => {\r\n  const cells = props.field.map((el, index) => {\r\n    const result = [];\r\n\r\n    for (let i = 0; i < el.length; i++) {\r\n      const key = `${index}${i}`\r\n      result.push(< Cell cell={el[i]} key={key} onContextMenu={props.onContextMenu} onClick={props.onClick} col={index} row={i} rowsnum={props.rowsnum} />);\r\n    }\r\n\r\n    return <div key={index} className=\"column\">{result}</div>;\r\n  });\r\n\r\n  const cellFontSize = props.rowsnum === 10 ? '200%' : (props.rowsnum === 15 ? '150%' : '100%');\r\n\r\n  const gameStyle = {\r\n    fontSize: cellFontSize,\r\n  }\r\n\r\n  const sensorFlagClasses = props.sensorFlag ? 'sensor-flag sensor-flag-on' : 'sensor-flag';\r\n\r\n  return (\r\n    <>\r\n      <div className={sensorFlagClasses} onClick={props.handleSensorFlag}>\r\n        <i className='fa fa-flag'></i>\r\n      </div>\r\n      <div className=\"Game\" style={gameStyle}>\r\n        {cells}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n","export default class GameFieldGenerator {\r\n\r\n  getRand(range) {\r\n    return Math.floor(Math.random() * range);\r\n  }\r\n\r\n  countCellsToOpen(array) {\r\n    return array.reduce((acc, el) => {\r\n      return acc + el.filter(cell => cell.value !== 'b').length;\r\n    }, 0)\r\n  }\r\n\r\n  generateField(cols, rows, difficulty) {\r\n    const field = [];\r\n\r\n    for (let i = 0; i < cols; i++) {\r\n      field[i] = [];\r\n      for (let j = 0; j < rows; j++) {\r\n        field[i][j] = { value: 0, open: false, marked: false };\r\n      }\r\n    }\r\n    const diff = difficulty === 1 ? 0.14 : (difficulty === 2 ? 0.19 : 0.24);\r\n\r\n    const bombNumber = Math.floor(cols * rows * diff);\r\n\r\n    for (let i = 0; i < bombNumber; i++) {\r\n      const c = this.getRand(cols);\r\n      const r = this.getRand(rows);\r\n\r\n      if (field[c][r].value !== 'b') {\r\n        field[c][r].value = 'b';\r\n        const leftCol = c > 0;\r\n        const rightCol = c < cols - 1;\r\n        const topRow = r > 0;\r\n        const bottomRow = r < rows - 1;\r\n\r\n        if (leftCol) {\r\n          if (topRow && !isNaN(field[c - 1][r - 1].value)) {\r\n            field[c - 1][r - 1].value += 1;\r\n          }\r\n          if (!isNaN(field[c - 1][r].value)) {\r\n            field[c - 1][r].value += 1;\r\n          }\r\n          if (bottomRow && !isNaN(field[c - 1][r + 1].value)) {\r\n            field[c - 1][r + 1].value += 1;\r\n          }\r\n        }\r\n\r\n        if (topRow && !isNaN(field[c][r - 1].value)) {\r\n          field[c][r - 1].value += 1;\r\n        }\r\n        if (bottomRow && !isNaN(field[c][r + 1].value)) {\r\n          field[c][r + 1].value += 1;\r\n        }\r\n\r\n        if (rightCol) {\r\n          if (topRow && !isNaN(field[c + 1][r - 1].value)) {\r\n            field[c + 1][r - 1].value += 1;\r\n          }\r\n          if (!isNaN(field[c + 1][r].value)) {\r\n            field[c + 1][r].value += 1;\r\n          }\r\n          if (bottomRow && !isNaN(field[c + 1][r + 1].value)) {\r\n            field[c + 1][r + 1].value += 1;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return { field: field, startGame: true, allCells: this.countCellsToOpen(field) };\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport './GameOver.css';\r\n\r\nconst GameOver = ({ newGame }) => {\r\n  return (\r\n    <div className=\"GameOver\">\r\n      <p>Game Over\r\n        <button className=\"btn btn-primary\" onClick={newGame}>Try new game</button>\r\n      </p>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default GameOver;\r\n","import React from 'react';\r\nimport './Winner.css';\r\n\r\nconst Winner = ({ newGame }) => {\r\n  return (\r\n    <div className=\"Winner\">\r\n      <p>\r\n        Congratulations, You won!\r\n      <button className=\"btn btn-primary\" onClick={newGame}>Try new game</button>\r\n      </p>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Winner;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport SettingsForm from './SettingsForm';\r\nimport Game from './Game';\r\nimport GameFieldGenerator from './services/GameFieldGenerator';\r\nimport GameOver from './GameOver';\r\nimport Winner from './Winner';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    colsnum: 10,\r\n    rowsnum: 10,\r\n    difficulty: 1,\r\n    field: null,\r\n    startGame: false,\r\n    gameOver: false,\r\n    allCells: null,\r\n    openedCells: 0,\r\n    sensorFlag: false\r\n  }\r\n\r\n  GameFieldGenerator = new GameFieldGenerator();\r\n\r\n  // Game settings\r\n  handleInput = ({ target }) => {\r\n    this.setState({\r\n      [target.name]: parseInt(target.value)\r\n    });\r\n  }\r\n\r\n  handleSensorFlag = () => {\r\n    this.setState(prevState => ({\r\n      sensorFlag: !prevState.sensorFlag\r\n    }))\r\n  }\r\n\r\n  updateFieldSettigns = (number) => {\r\n    const newSize = this.state.rowsnum + number;\r\n    if (newSize > 20 || newSize < 10) return;\r\n    this.setState({\r\n      rowsnum: newSize,\r\n      colsnum: newSize\r\n    })\r\n  }\r\n\r\n  updateLevelSettings = (number) => {\r\n    const newLevel = this.state.difficulty + number;\r\n    if (newLevel > 3 || newLevel < 1) return;\r\n    this.setState({\r\n      difficulty: newLevel\r\n    })\r\n  }\r\n\r\n  // New game launching\r\n  handleForm = (e) => {\r\n    e.preventDefault();\r\n    const { colsnum, rowsnum, difficulty } = this.state;\r\n    const game = this.GameFieldGenerator.generateField(colsnum, rowsnum, difficulty);\r\n    this.setState(game)\r\n  }\r\n\r\n  // Right mouse button click (flag/unflag cell)\r\n  handleRightClick = (e) => {\r\n    e.preventDefault();\r\n    const col = e.currentTarget.getAttribute('data-col');\r\n    const row = e.currentTarget.getAttribute('data-row');\r\n    const { field } = this.state;\r\n    if (field[col][row].open) return; // if cell is already opened\r\n    field[col][row].marked = !field[col][row].marked;\r\n    this.setState({ field });\r\n  }\r\n\r\n  // Left mouse button click (opening of cell)\r\n  handleLeftClick = (e) => {\r\n    const col = e.currentTarget.getAttribute('data-col');\r\n    const row = e.currentTarget.getAttribute('data-row');\r\n    const { field, allCells, sensorFlag } = this.state;\r\n\r\n    if (sensorFlag) {\r\n      this.handleRightClick(e)\r\n      return;\r\n    }\r\n\r\n    if (field[col][row].open || field[col][row].marked) return; // if cell is already opened or flagged\r\n\r\n    if (field[col][row].value === 0) {\r\n      this.setState({\r\n        field: this.openAllCellsBeside(parseInt(col), parseInt(row), field)\r\n      })\r\n    }\r\n\r\n    if (field[col][row].value === 'b') {\r\n      this.openAllCells(col, row);\r\n      this.setState({ gameOver: true });\r\n      return;\r\n    }\r\n\r\n    field[col][row].open = true;\r\n    const openedCells = this.countOpenedCells(field);\r\n    if (allCells === openedCells) this.openAllCells();\r\n\r\n    this.setState({ openedCells, field });\r\n  }\r\n\r\n  // Counting the number of already open cells\r\n  countOpenedCells = (field) => {\r\n    return field.reduce((acc, el) => {\r\n      return acc + el.filter(cell => cell.open).length;\r\n    }, 0)\r\n  }\r\n\r\n  // Opening of all cells beside the empty cell\r\n  openAllCellsBeside = (c, r, f) => {\r\n    const { colsnum, rowsnum } = this.state;\r\n    let field = f;\r\n    field[c][r].open = true;\r\n\r\n    const openUnmarkCell = (x, y) => {\r\n      field[x][y].open = true;\r\n      field[x][y].marked = false;\r\n      return;\r\n    }\r\n\r\n    const leftCol = c > 0;\r\n    const rightCol = c < colsnum - 1;\r\n    const topRow = r > 0;\r\n    const bottomRow = r < rowsnum - 1;\r\n    if (leftCol) {\r\n      if (topRow) {\r\n        if (field[c - 1][r - 1].value === 0 && !field[c - 1][r - 1].open) {\r\n          field = this.openAllCellsBeside(c - 1, r - 1, field);\r\n        } else {\r\n          openUnmarkCell(c - 1, r - 1);\r\n        }\r\n      }\r\n\r\n      if (field[c - 1][r].value === 0 && !field[c - 1][r].open) {\r\n        field = this.openAllCellsBeside(c - 1, r, field);\r\n      } else {\r\n        openUnmarkCell(c - 1, r);\r\n      }\r\n\r\n      if (bottomRow) {\r\n        if (field[c - 1][r + 1].value === 0 && !field[c - 1][r + 1].open) {\r\n          field = this.openAllCellsBeside(c - 1, r + 1, field);\r\n        } else {\r\n          openUnmarkCell(c - 1, r + 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (topRow) {\r\n      if (field[c][r - 1].value === 0 && !field[c][r - 1].open) {\r\n        field = this.openAllCellsBeside(c, r - 1, field);\r\n      } else {\r\n        openUnmarkCell(c, r - 1);\r\n      }\r\n    }\r\n    if (bottomRow) {\r\n      if (field[c][r + 1].value === 0 && !field[c][r + 1].open) {\r\n        field = this.openAllCellsBeside(c, r + 1, field);\r\n      } else {\r\n        openUnmarkCell(c, r + 1);\r\n      }\r\n    }\r\n\r\n    if (rightCol) {\r\n      if (topRow) {\r\n        if (field[c + 1][r - 1].value === 0 && !field[c + 1][r - 1].open) {\r\n          field = this.openAllCellsBeside(c + 1, r - 1, field);\r\n        } else {\r\n          openUnmarkCell(c + 1, r - 1);\r\n        }\r\n      }\r\n\r\n      if (field[c + 1][r].value === 0 && !field[c + 1][r].open) {\r\n        field = this.openAllCellsBeside(c + 1, r, field);\r\n      } else {\r\n        openUnmarkCell(c + 1, r);\r\n      }\r\n\r\n      if (bottomRow) {\r\n        if (field[c + 1][r + 1].value === 0 && !field[c + 1][r + 1].open) {\r\n          field = this.openAllCellsBeside(c + 1, r + 1, field);\r\n        } else {\r\n          openUnmarkCell(c + 1, r + 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    return field;\r\n  }\r\n\r\n  // Opening of all the cells in the game field\r\n  openAllCells = (col = null, row = null) => {\r\n    const { field, colsnum, rowsnum } = this.state;\r\n    if (col !== null && row !== null) field[col][row].detonated = true;\r\n    for (let i = 0; i < colsnum; i++) {\r\n      for (let j = 0; j < rowsnum; j++) {\r\n        field[i][j].open = true;\r\n        if (col === null && row === null && field[i][j].value === 'b') {\r\n          field[i][j].marked = true;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ field })\r\n  }\r\n\r\n  newGame = () => {\r\n    this.setState({\r\n      startGame: false,\r\n      gameOver: false,\r\n      field: null,\r\n      allCells: null,\r\n      openedCells: 0,\r\n      sensorFlag: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { colsnum, rowsnum, difficulty, startGame, field, gameOver, allCells, openedCells, sensorFlag } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        {startGame ?\r\n          <Game\r\n            field={field}\r\n            rowsnum={rowsnum}\r\n            sensorFlag={sensorFlag}\r\n            onContextMenu={this.handleRightClick}\r\n            onClick={this.handleLeftClick}\r\n            handleSensorFlag={this.handleSensorFlag}\r\n          /> :\r\n          <SettingsForm\r\n            colsnum={colsnum}\r\n            difficulty={difficulty}\r\n            onChange={this.handleInput}\r\n            onSubmit={this.handleForm}\r\n            updateFieldSettigns={this.updateFieldSettigns}\r\n            updateLevelSettings={this.updateLevelSettings}\r\n          />\r\n        }\r\n        {gameOver ? <GameOver newGame={this.newGame} /> : null}\r\n        {startGame && allCells === openedCells ? <Winner newGame={this.newGame} /> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}